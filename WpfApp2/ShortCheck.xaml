<Window x:Class="WpfApp2.ShortCheck"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="BMI Health Tracker" Height="726" Width="875"
        WindowStartupLocation="CenterScreen"
        Background="Black">

    <!-- Define reusable styles for a modern look -->
    <Window.Resources>

        <!-- Resource for standard card shadow effect -->
        <DropShadowEffect x:Key="ShadowDepth1"
                          BlurRadius="10"
                          ShadowDepth="2"
                          Direction="270"
                          Color="#CCCCCC"
                          Opacity="0.5"/>

        <!-- Style for the Input TextBoxes (Rounded corners, light background) -->
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0,5,0,15"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBox}">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ScrollViewer x:Name="PART_ContentHost" Focusable="False" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#C0C0C0"/>
                            </Trigger>
                            <Trigger Property="IsKeyboardFocused" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#F88379"/>
                                <Setter TargetName="Border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Style for the main Action Button (Soft red color from the image) -->
        <Style TargetType="Button">
            <Setter Property="Background" Value="#F88379"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Height" Value="45"/>
            <Setter Property="Margin" Value="0,20,0,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#E87369"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#D86359"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Text style for the BMI Category descriptions -->
        <Style x:Key="BmiCategoryTextStyle" TargetType="TextBlock">
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="FontSize" Value="15"/>
        </Style>

        <!-- Text style for the BMI Category ranges (to be colored dynamically) -->
        <Style x:Key="BmiRangeTextStyle" TargetType="TextBlock" BasedOn="{StaticResource BmiCategoryTextStyle}">
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

    </Window.Resources>

    <!-- NEW: Wrapping the content in a Border with CornerRadius=5 -->
    <Border BorderBrush="#DDDDDD" BorderThickness="1" CornerRadius="15,15,15,15" Background="White" Height="710" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
        <Border.RenderTransform>
            <TransformGroup>
                <ScaleTransform/>
                <SkewTransform AngleX="0.027"/>
                <RotateTransform/>
                <TranslateTransform X="0.166"/>
            </TransformGroup>
        </Border.RenderTransform>
        <Grid Margin="0,0,0,9">
            <Grid.RowDefinitions>
                <!-- Row for the main header (Optional, using simple text here) -->
                <RowDefinition Height="Auto" MinHeight="44"/>
                <!-- Row for the main content area (Input and Output) -->
                <RowDefinition/>
            </Grid.RowDefinitions>

            <!-- HEADER AREA (Simple Title) -->
            <StackPanel Grid.Row="0" Margin="0,20,0,20" HorizontalAlignment="Center" Width="0"/>

            <!-- MAIN CONTENT AREA -->
            <StackPanel Grid.Row="1" Margin="20,20,20,20">
                <!-- 1. MEASUREMENT INPUT CARD -->
                <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="10" Padding="25" Margin="0,0,0,20" Effect="{StaticResource ShadowDepth1}" Height="367">
                    <StackPanel>
                        <TextBlock Text="Record Your Measurements" FontSize="18" FontWeight="SemiBold" Foreground="#333333"/>
                        <TextBlock Text="Enter your current height and weight to track your health metrics." FontSize="14" Foreground="#797979" Margin="0,5,0,20"/>
                        <TextBlock Text="Height (cm)" FontWeight="SemiBold" FontSize="14" Height="20"/>

                        <!-- Height Input -->
                        <TextBox x:Name="HeightTextBox" Width="Auto" HorizontalAlignment="Stretch" d:Text="e.g., 175" PreviewTextInput="NumberValidationTextBox" TextChanged="HeightTextBox_TextChanged"/>

                        <!-- Weight Input -->
                        <TextBlock Text="Weight (kg)" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,5"/>
                        <TextBox x:Name="WeightTextBox" Width="Auto" HorizontalAlignment="Stretch" d:Text="e.g., 70" PreviewTextInput="NumberValidationTextBox" TextChanged="WeightTextBox_TextChanged"/>
                        <Button Content="Calculate BMI" x:Name="CalculateButton" Click="CalculateButton_Click" Height="37" Width="233" Background="#FFFF1400"/>

                        <!-- Calculate Button -->
                        <!-- The Click event is linked to the C# code-behind -->
                    </StackPanel>
                </Border>

                <!-- 2. BMI RESULT & CATEGORIES CARD -->
                <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="10" Padding="25" Effect="{StaticResource ShadowDepth1}" Width="477" Height="219">
                    <StackPanel>
                        <TextBlock Text="BMI Categories" FontSize="18" FontWeight="SemiBold" Foreground="#333333" Margin="0,0,0,10"/>

                        <!-- Display BMI Result -->
                        <TextBlock x:Name="BmiResultTextBlock"
                                   Text="Your BMI: N/A"
                                   FontSize="22"
                                   FontWeight="Bold"
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,15"
                                   Foreground="#555555" Height="30"/>

                        <!-- Category Table -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <!-- Static Category Labels (Left Column) -->
                            <StackPanel Grid.Column="0" Margin="0,-24,0,27">
                                <TextBlock Text="Underweight" Style="{StaticResource BmiCategoryTextStyle}" Foreground="Blue"/>
                                <TextBlock Text="Normal weight" Style="{StaticResource BmiCategoryTextStyle}" Foreground="Green"/>
                                <TextBlock Text="Overweight" Style="{StaticResource BmiCategoryTextStyle}" Foreground="Orange"/>
                                <TextBlock Text="Obese" Style="{StaticResource BmiCategoryTextStyle}" Foreground="Red" Height="22" RenderTransformOrigin="0.5,0.5">
                                    <TextBlock.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform/>
                                            <SkewTransform AngleX="0.477"/>
                                            <RotateTransform/>
                                            <TranslateTransform X="0.075"/>
                                        </TransformGroup>
                                    </TextBlock.RenderTransform>
                                </TextBlock>
                            </StackPanel>

                            <!-- Static Range Values (Right Column) -->
                            <StackPanel Grid.ColumnSpan="2" Margin="353,-24,0,0">
                                <TextBlock Text="&lt; 18.5" Style="{StaticResource BmiRangeTextStyle}" Foreground="Blue"/>
                                <TextBlock Text="18.5 - 24.9" Style="{StaticResource BmiRangeTextStyle}" Foreground="Green"/>
                                <TextBlock Text="25.0 - 29.9" Style="{StaticResource BmiRangeTextStyle}" Foreground="Orange"/>
                                <TextBlock Text="&gt;= 30.0" Style="{StaticResource BmiRangeTextStyle}" Foreground="Red"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>
            <Grid>
                <Border BorderBrush="Black" BorderThickness="1" Margin="-6,0,0,0">
                    <Grid>
                        <Button Content="" HorizontalAlignment="Left" Margin="19,0,0,0" VerticalAlignment="Center" Height="22" Width="112">
                            <Button.Background>
                                <ImageBrush ImageSource="/goback.jpg"/>
                            </Button.Background>
                        </Button>
                        <Label Content="Short Check" HorizontalAlignment="Left" Margin="162,0,0,0" VerticalAlignment="Center" FontSize="14" FontWeight="SemiBold" Width="138" Foreground="#FF00104D"/>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>
